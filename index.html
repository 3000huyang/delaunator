<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <style>
    canvas { border: 1px solid #ccc; width: 800px; height: 600px; }
    </style>
</head>
<body>

<canvas id="canvas" width="1600" height="1200"></canvas>

<script>
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

ctx.scale(2, 2);

function draw() {
    ctx.clearRect(0, 0, 800, 600);

    ctx.beginPath();
    for (var i = 0; i < triangles.length; i++) {
        var t = triangles[i];
        ctx.moveTo(t[0][0], t[0][1]);
        ctx.lineTo(t[1][0], t[1][1]);
        ctx.lineTo(t[2][0], t[2][1]);
    }
    ctx.strokeStyle = 'green';
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.fillStyle = 'rgba(255,255,0,0.1)';
    ctx.fill();

    ctx.beginPath();
    ctx.moveTo(hull.p[0], hull.p[1]);
    var e = hull;
    do {
        ctx.lineTo(e.next.p[0], e.next.p[1]);
        e = e.next;
    } while (e !== hull);
    ctx.lineWidth = 2;
    ctx.strokeStyle = 'red';
    ctx.stroke();

    ctx.fillStyle = 'blue';
    ctx.beginPath();
    for (var i = 0; i < points.length; i++) {
        ctx.rect(points[i][0] - 1, points[i][1] - 1, 2, 2);
    }
    ctx.fill();
}

</script>
<script src="index.js"></script>

<script>
var gen = triangulate();
function frame() {
    if (gen.next().value) {
        // requestAnimationFrame(frame);
    }
    draw();
}
draw();

document.onkeypress = frame;
// requestAnimationFrame(frame);
</script>

</body>
</html>
